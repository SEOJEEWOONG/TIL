# 컴퓨터 네트워크 기본

> 작성 날짜 : 2021-11-29


## 컴퓨터 네트워크 기본 용어

* 트래픽 : 서버를 통해 최종 사용자에게 전달된 데이터의 양 = 용량 * 사용자수 * 데이터 갯수
* Host : 고유 IP 주소를 가진 장치
* Node : 컴퓨터 네트워크 상에 연결된 장치
* Link : 물리적으로 노드와 노드를 연결하는 장치
* Hop : 거리의 단위, 한 링크를 이동하면 한 홉
* 경로 : 네트워크 상의 두 노드 간의 이동 경로
* 프로토콜 : 데이터 통신을 원활하게 하기 위해 필요한 통신 규약
* 포트 : 외부의 다른 서비스나 프로세스와 접속하기 위한 플러그 같은 것, 네트워크 서비스나 특정 프로세스를 식별하는 논리 단위
* IP 주소 : Node를 찾을 때 필요한 주소
* 인트라넷 : 단체의 직원만 접근 가능한 사설망으로 인터넷 프로토콜을 쓰는 폐쇄적 근거리 통신망
* 웹 : 인터넷에 연결된 다수의 사용자가 로그인 절차 없이 접근할 수 있는 서비스
* 웹 브라우저 : http 또는 https 프로토콜에 지정된 포트를 통해 서버와 연결 시도
* URL : 서버의 자원 명칭 -> 클라이언트가 웹 서버를 지칭할 때 사용하는 주소, 프로토콜 + 서버 호스트 이름 + 서버 내부 파일 경로명
* PHP : 서버사이드 스크립트 언어로 수많은 웹사이트의 기반언어 -> 리툭스 배포본에 PHP 설치 패키지가 기본으로 제공하여 거의 모든 웹 서버에서 실행 가능
* 스크립트 언어: 응용 소프트웨어를 제어하는 컴퓨터 프로그래밍 언어 -> 다른 응용 프로그램에 삽입되어서 동작하는 프로그램 언어
* Javascript : HTML 문서에 삽입되어 실행되는 스크립트 언어
* JSP(Java Server Page) : HTML 문서 안에 자바 코드를 직접 삽입하여 웹 서버에서 동적으로 웹 페이지 생성하여 표현하는 스크립트 언어
* Python : 객체 지향 스클립트 프로그래밍 언어. 컴파일 과정이 필요 없어 개발 기간이 단축되고 OS에 독립적임
* 비스크립트 언어 : C,C++,JAVA 등 컴파일 된 후 독립적으로 작동하는 완전한 응용 프로그램
* Apache : 웹 서버 프로그램
* APM : Apache, PHP, Mysql
    - 동작 원리
        1) 웹 브라우저가 아파치에 웹 문서 요청
        2) PHP 코드가 존재하면 처리를 위해 PHP 요청
        3) 데이터베이스 처리가 필요한 경우 MYSQL 요청
        4) 아파치가 웹 브라우저에 데이터베이스 결과와 PHP 실행 결과인 HTML 코드 회신



**OSI 모델**
1. 계층을 나눈 이유

    한 프로토콜에서 통신 과정을 모두 처리하면 문제가 발생하기 쉽다 -> 프로토콜을 모듈화하여 특정 단위의 모듈들은 독립적이지만 상호 유기적인 관계
    프로토콜(통신 규약)을 계층마다 구별시켜주는 역할
    하위 계층의 기능을 이용해서 상위 계층에게 제공하는 역할
    특정 계층에서의 오류를 찾아내고 네트워크 통신 과정을 직관적으로 구분해주는 역할
    송신 측 n 계층 ---------- 수신 측 n 계층 끼리만 논리적으로 통신한다. 이 떄의 규칙이 n 계층 프로토콜

2. 응용 계층 : 하부 계층들을 이용해 사용자에게 편리한 응용 환경을 제공하는 계층 -> 응용 프로세스와 관계하여 애플리케이션에 대한 서비스 제공
    - 예시 : HTTP, HTTPS, FTP, DNS, SMTP
        - HTTP : 클라이언트 요청과 서버의 응답정보를 하이퍼텍스트형태로 전송하기 위한 프로토콜
            - 클라이언트 -> 서버 : GET, 서버 -> 클라이언트 : POST
            - 비상태연결 : 요청과 응답 이후에 연결이 끊어짐
            - 요청 메시지 = 요청 메서드 + URL + HTTP 버전
                - 요청 메서드
                    - GET : URL이 가리키는 웹 문서 전송 요청
                    - HEAD : 문서 내용보다는 특정 문서에 대한 정보 요청
                    - POST : 클라이언트 또는 서버가 상대에게 정보 전달
                    - PUT : 클라이언트가 서버에게 문서 전달
            - 응답문 = 상태문 + 헤더 + 바디
                - 상태문 : HTTP 버전 + 상태 코드 + 상태 이름
        - DNS : 
    - 클라이언트 - 서버 모델 : 하나의 서버 프로그램이 다수의 클라이언트에 응용 서비스를 제공하는 모델
        - 클라이언트와 서버가 연결되는 과정
            1) 사용자가 웹 브라우저에게 웹 서버 URL 주소 입력
            2) 웹 브라우저가 DNS 서버에게 웹 서버 호스트 이름을 IP주소로 변경 요청
            3) 웹 브라우저가 IP 주소와 포트 번호(80)를 이용하여 웹서버와 TCP 연결 시도
            4) 웹 브라우저가 최초 화면을 위한 GET 명령 전송하면 웹 서버가 웹 브라우저에게 요청한 웹 문서를 회신
            5) 웹 브라우저와 웹 서버 연결 해제하고 브라우저가 사용자 화면에 웹 문서 출력

3. 표현 계층 : 송신 프로세스가 전달하는 의미를 수신 프로세스가 정확히 이해하도록 메시지 표현 및 해석-> 코드, 암호화 등 데이터 변환 + 데이터 형식 상의 차이를 다루는 코드 간의 번역 제공
    - 예시 : JPG, MPEG, MIME
    - 기능
        - 추상 문법 : 컴퓨터에서 사용하는 데이터 표현 규칙
            - 수신 측에서는 자신의 컴퓨터에서 이해하는 추상 문법의 형태로 다시 변환하는 과정 필요
        - 전송 문법 : 네트워크 전체에서 일관성을 지니는 표현 규칙
        - 데이터 압축 : 전송 데이터의 양을 줄이는 목적

4. 세션 계층 : 양 끝단의 프로세스가 통신을 관리하는 방법 제공 (동기 기능, 대화 기능)
    - 예시 : SSH, NETBIOS
    - 기능
        - 동기 기능 : 통신 양단 끼리 서로 동의하는 논리적인 공통 시점인 동기점을 만들어 메시지가 제대로 처리 되고 있는 지를 파악
            - 동기점은 오류 복구를 위하여 필수적으로 사용되는데, 동기점 설정 이전까지는 서로 처리가 완료되었음을 합의
            - 동기점 이전 과정은 복구가 필요 없고, 동기점 이후 처리 과정에 대한 복구 절차가 진행
        - 대화 기능 : 데이터 전송 과정 제어
            - 시간 경과에 따라 순차적으로 동기점을 부여하여 신뢰성 보장 기능을 단계적으로 구현
            - 토큰 : 두 응용 프로세스의 데이터 전송 과정을 관리
                - 토큰의 보유는 해당 토큰에 부여된 특정 권리를 배타적으로 소유
                - 데이터 토큰 : 데이터 전송할 수 있는 권한
                - 해제 토큰 : 통신 양단 사이의 연결 해제 제어
                - 동기 토큰 : 동기 처리가 필요한 시점에 사용

5. 전송 계층 : 송신 프로세스와 수신 프로세스 간의 연결 기능
    - 예시 : TCP, UDP
        - TCP : 연결형 서비스를 지원하는 프로토콜 -> 신뢰성 있는 데이터 전송
            - 세그먼트 = 송신/수신 Port + 순서 번호 + 응답 번호 + 윈도우 크기(버퍼 크기) + 체크섬(헤더와 데이터에 대한 오류 검출)
        - UDP : 비연결형 서비스를 지원하는 프로토콜 -> 스트리밍 서비스에 적합
            - 데이터그램 = 송신/수신 Port + 데이터그램 크기 + 체크섬
    - 단위 : 세그먼트, 데이터그램 : 데이터 + TCP 헤더
    - 기능 : 프로세스마다 포트 할당 및 관리, 사용자는 소켓 인터페이스를 시스템 콜하여 활용
        - 소켓 : 각자 고유한 포트 번호를 담당.
            - 소켓 함수 : 매개변수로 지정한 유형에 따라 소켓을 생성하고 생성된 소켓을 가리키는 파일 디스크립터 리턴
                - 파일 디스크립터 : 유닉스 계열의 시스템에서 프로세스가 파일을 다룰 때 사용하는 개념, 프로세스에서 특정 파일에 접근할 때 사용하는 추상적인 값
                - bind 함수 : 소켓에 소켓 주소를 할당
                - listen 함수 : 소켓 활성화
                - accpet 함수 : 서버가 클라이언트의 수신 신호 대기
                - connect 함수 : 클라이언트가 서버 신호 응답
                - send 함수 : 연결이 설정된 소켓에 데이터를 송신한다.
                - recv 함수 : 연결이 설정된 소켓에서 데이터를 수신한다.
                - 수신 데이터는 buf가 가리키는 공간에 저장
        - 흐름 제어 : 송수신 호스트의 전송 과정의 속도 차이 제어
            - 버퍼 관리 : 버퍼 크기를 조절하여 네트워크 전송 효율 및 데이터 손실 최적화
        - 오류 제어 : 데이터 변형, 데이터 분실 오류 시 재전송 기능으로 복구 수행
        - 주소 = 네트워크 계층의 HOST IP 주소 + 포트 번호

6. 네트워크 계층 : 네트워크의 다른 호스트로 데이터를 보내기 위한 경로 설정과 논리 주소 설정
    - 예시 : IP
    - 단위 : 패킷
    - 기능 : 데이터를 전송하려면 여러 중계기(라우터)를 거쳐야 하는데 어떤 중계 시스템을 거치는 지에 대한 정보 제공(라우팅 기능)
        - 라우터 : 올바른 경로를 선택할 수 있도록 지원
            - 라우팅 테이블 : 네트워크 구성 형태에 관한 정보를 관리하는 공간
            - 정적 라우팅 : 패킷 전송이 이루어지기 전에 경로 정보를 라우터가 미리 저장하여 중개
                - 경로 정보의 갱신이 어려워 네트워크 변화나 혼란에 대처하기 어렵다.
            - 동적 라우팅 : 라우터의 경로 정보를 네트워크 상황에 따라 적절하게 변경
                - 복잡한 작업 및 경로 정보 수집으로 인한 오버헤드로 성능 저하 발생
        - 혼잡 제어 : 네트워크에 패킷 수가 과도하게 증가되는 현상을 예방하거나 제거
        - IP 프로토콜 : 인터넷 환경에서 네트워크 계층의 데이터 전송 프로토콜
            - 비연결형 서비스이고 패킷 분할/병합 기능 수행
            - 전송 패킷이 수신 호스트에 100% 도착하는 것을 보장하지 않는다.
            - IP 주소 = 네트워크 주소 + 호스트 주소
                - IPv4 주소 : 32bit 주소 공간 (2^32)
                - IPv6 주소 : 128bit 주소 공간 (2^128)
        - ICMP 프로토콜 : 인터넷 환경에서 오류ㅔ에 관한 처리

7. 데이터 링크 계층 : 데이터 전송과정에서 발생할 수 있는 오류 처리하고 물리 주소 결정
    - 예시
        - ARP 프로토콜 : IP 주소를 MAC 주소로 바꾸어주는 프로토콜
        - RARP 프로토콜 : MAC 주소를 IP 주소로 바꾸어주는 프로토콜
    - 단위 : 프레임
    - 기능 : LAN 카드 별로 MAC 주소 관리
        - 긍정 응답 프레임(ACK 프레임) : 전송 데이터가 올바르게 도착했음을 회신
        - 부정 응답 프레임(NAK 프레임) : 전송 데이터가 깨져서 도착했음을 회신
        - 슬라이딩 윈도우 프로토콜 : 두 호스트 간 데이터 전송을 위한 일반적인 통신 프로토콜 (오류 제어, 흐름 제어 지원)
            1) 송신 호스트는 정보 프레임(전송 데이터, 데이터 순서, 오류 검출 코드)을 순서 번호에 따라 순차적 전송
            2) 송신 호스트는 전송 데이터를 내부 버퍼인 송신 윈도우에 저장
            3) 수신 호스트는 ACK 프레임과 다음 순서 정보를 전송
            4) 수신 호스트는 수신 데이터를 내부 버퍼인 수신 윈도우에 저장

8. 물리 계층 : 시스템을 물리적으로 연결하고 전기 신호를 변환 및 전송
    - 예시 : Ethernet
    - 기능 : 호스트와 전송매체를 연결하기 위해 인터페이스 규칙과 전송 매체 특성을 다룬다. 유일하게 하드웨어로 구현되어 있다. 